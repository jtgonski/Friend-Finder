<!DOCTYPE html>
<html>
	<head>
		<title>Friend Finder! | Survey</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
		<script
		src="http://code.jquery.com/jquery-3.2.1.js"
		integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
		crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
		<link rel="stylesheet" type="text/css" href="./assets/style.css">
	</head>
	<body>
		<div class="container">
			<div>
				<h1>Survey</h1>
				<hr class="my-4">
			</div>
			<div>
				<form>
					<div class="form-group">
						<label for="name">Your Name (required)</label>
						<input type="input" class="form-control" id="name" placeholder="John Doe">
					</div>
					<div class="form-group">
						<label for="photo-link">Link to a real photo of yourself (required) (We'll know if its fake!)</label>
						<input type="input" class="form-control" id="photo-link" >
					</div>
					<hr class="my-4">
					<div class="form-group">
						<h3>Question 1</h3>
						<label for="question1">When I travel, I like to have a detailed itinerary</label>
						<select class="form-control" id="question1">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 2</h3>
						<label for="question2">When I travel, I pack more than enough. Better safe than sorry!</label>
						<select class="form-control" id="question2">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 3</h3>
						<label for="question3">When I travel, I like to try local foods, including street food. Life's no fun without any risks!</label>
						<select class="form-control" id="question3">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 4</h3>
						<label for="question4">When I travel, I like to learn some of the local language before I go. </label>
						<select class="form-control" id="question4">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 5</h3>
						<label for="question5">When I travel, I prefer to take trains or busses to planes.</label>
						<select class="form-control" id="question5">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 6</h3>
						<label for="question6">When I travel, I always buy travel insurance</label>
						<select class="form-control" id="question6">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 7</h3>
						<label for="question7">When I travel, I get easily annoyed when my transportation schedule gets delayed</label>
						<select class="form-control" id="question7">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 8</h3>
						<label for="question8">When I travel, I always bring necessary medication in case I get traveller's diarrea or malaria</label>
						<select class="form-control" id="question8">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 9</h3>
						<label for="question9">When I travel, I like to bring a book</label>
						<select class="form-control" id="question9">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<div class="form-group">
						<h3>Question 10</h3>
						<label for="question10">I prefer the mountains to the beach</label>
						<select class="form-control" id="question10">
							<option>Please select an answer</option>
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
						</select>
					</div>
					<button type="button" class="btn btn-primary" id="matchMe" data-toggle="modal" data-target="#matchModal">Match Me!</button>
					
					<div class="modal fade" id="matchModall" tabindex="-1" role="dialog" aria-labelledby="matchModalLabel" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="friend-title">And your friend is...</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body" id="friend-match">
									
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
								</div>
							</div>
						</div>
					</div>
				</form>
				<br>
				<br>
				<br>
				<footer class="footer">
					<div class="container">
						
						<p>
							<a href="/home">Main Page</a>
							|
							<a href="api/friends">API All Friends</a>
						</p>
						
					</div>
				</footer>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		
		$("#matchMe").on("click", function() {
			var newFriend = {
				name: $("#name").val().trim(),
				photo: $("photo").val().trim(), 
				score: [
					parseInt($("question1").val().trim()),
					parseInt($("question2").val().trim()),
					parseInt($("question3").val().trim()),
					parseInt($("question4").val().trim()),
					parseInt($("question5").val().trim()),
					parseInt($("question6").val().trim()),
					parseInt($("question7").val().trim()),
					parseInt($("question8").val().trim()),
					parseInt($("question9").val().trim()),
					parseInt($("question10").val().trim())
				]
			};

			console.log(newFirend); 
		})

		function displayFriend() {
			var currentURL = window.location.origin;
			$.ajax({url: currentURL + "/api/friends", method: "GET"})
				.done(function(friendsData) {
					console.log("--------------------------");
					console.log("URL: " + currentURL + "/api/friends");
					console.log(friendsData);
					console.log("-----------------------------");

					var friend = $("<div>"); 
					$("#friend-match").text(friendsData[0].name + $("<br>") +friendsData[0].photo)
				});
		}
		displayFriend();

		function postFriendData() {

		}

		function findMatch() {

		}



	
	</script>
</html>